<div class="header">
  <div *ngIf="edit==true" class="cancel" style="margin:0;padding:0">
    <button (click)="cancelEdit()" style="background-color: #00bfff" mat-flat-button>Откажи </button>
  </div>
  <h2 class="title" align="center">Тестове</h2>
  <div class="edit" style="margin:0;padding:0">
    <button *ngIf="edit==false" (click)="editMenu()" style="background-color: #00bfff" mat-flat-button>Промени </button>
    <button *ngIf="edit==true" (click)="saveEdit()" style="background-color: #00bfff" mat-flat-button>Запази </button>
  </div>
</div>
<mat-divider style="margin-bottom:5px"></mat-divider>

<h3 style="padding-left:10px">Upcomming tests</h3>
<mat-divider></mat-divider>

  <table mat-table [dataSource]="getDataSource()">
      <ng-container matColumnDef="subject">
        <th mat-header-cell *matHeaderCellDef>Предмет</th>
        <td mat-cell *matCellDef="let subject; index as i">
          <p>{{subject.subject}}</p> 
      </td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Дата</th>
        <td mat-cell *matCellDef="let subject; index as i"> 
          <p style="padding:0;margin:0" *ngIf="edit==false">{{subject.date | date:'dd.MM.yyyy г.'}}</p>
          <div *ngIf="edit==true" style="margin:0;padding:0;">
            <input
            matInput 
            [min]="this.httpService.minDate"
            [max]="this.httpService.maxDate"
            [matDatepicker]="picker" 
            (click)="picker.open()" 
            [(ngModel)]="subject.date" readonly>
            <mat-datepicker #picker></mat-datepicker>
          </div>
        </td>
      </ng-container>
    
      <ng-container matColumnDef="remove">
        <th mat-header-cell *matHeaderCellDef style="display:none"></th>
        <td mat-cell *matCellDef="let subject; index as i">
          <button
          *ngIf="edit==true"
          (click)="removeTest(i)"
          mat-mini-fab
          color="primary" 
          style="margin-left:5px;background-color: #ff1919;border-radius: 5px">✘</button>
        </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

  <mat-form-field style="display:none">
    <input matInput>
  </mat-form-field>


  <button 
  *ngIf="edit==true"
  (click)="openDialog()" 
  mat-flat-button 
  style="margin-top:5px;margin-left:5px;float:left;background-color:lightseagreen" 
  color="primary">Добави тестове
  </button>